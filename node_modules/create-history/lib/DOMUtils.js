"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.canUseDOM = exports.supportsGoWithoutReloadUsingHash = exports.supportsHistory = exports.removeEventListener = exports.addEventListener = void 0;
function addEventListener(node, event, listener) {
    return (node.addEventListener
        ? node.addEventListener(event, listener, false)
        // @ts-ignore
        : node.attachEvent('on' + event, listener));
}
exports.addEventListener = addEventListener;
function removeEventListener(node, event, listener) {
    return (node.removeEventListener
        ? node.removeEventListener(event, listener, false)
        // @ts-ignore
        : node.detachEvent('on' + event, listener));
}
exports.removeEventListener = removeEventListener;
/**
 * Returns true if the HTML5 history API is supported. Taken from Modernizr.
 *
 * https://github.com/Modernizr/Modernizr/blob/master/LICENSE
 * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js
 * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586
 */
function supportsHistory() {
    var ua = window.navigator.userAgent;
    if ((ua.indexOf('Android 2.') !== -1
        || ua.indexOf('Android 4.0') !== -1)
        && ua.indexOf('Mobile Safari') !== -1
        && ua.indexOf('Chrome') === -1
        && ua.indexOf('Windows Phone') === -1) {
        return false;
    }
    else {
        return window.history && 'pushState' in window.history;
    }
}
exports.supportsHistory = supportsHistory;
/**
 * Returns false if using go(n) with hash history causes a full page reload.
 */
function supportsGoWithoutReloadUsingHash() {
    return window.navigator.userAgent.indexOf('Firefox') === -1;
}
exports.supportsGoWithoutReloadUsingHash = supportsGoWithoutReloadUsingHash;
exports.canUseDOM = !!(typeof window !== 'undefined' &&
    window.document &&
    window.document.createElement);
